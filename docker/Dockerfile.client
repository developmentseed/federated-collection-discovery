# Development image for React application
FROM node:20

# Set the working directory.
WORKDIR /app

# Copy package files first for better layer caching
COPY package*.json yarn.lock ./

# Install dependencies
RUN yarn install && yarn cache clean

# Copy the entire project (filtered by .dockerignore)
COPY . .

EXPOSE 3000

CMD ["yarn", "dev", "--host", "0.0.0.0"]
